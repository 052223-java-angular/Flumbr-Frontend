
<div class="flex flex-col items-center pb-40  bg-gradient-to-r from-purple-500 to-blue-500 min-h-screen">

  <button (click)="backClicked()" class="m-2 bg-amber-400 top-0 pt-10 pl-10 px-5 py-3 shadow rounded-md ">Go Back</button>

    <div class="flex space-x-16">

      <div class="bg-white flex flex-col gap-7 p-10 shadow-2xl rounded-lg  mt-20 w-1/3">
        <p>Change Profile Image</p>

        <div class="w-full h-96">
          <img mat-card-image src="{{profile.profile_img}}" class="p-11 w-full h-full object-cover">
        </div>

        <form
          class=" w-full"
          (ngSubmit)="uploadImage()"
          [formGroup]="imageForm">

          <div class="media-drop w-full">
            <ngx-dropzone
              (change)="onSelectFile($event)"
              [multiple]=false
              [maxFileSize]=fileSizeLimit>
              <ngx-dropzone-label>Drag and drop image or <span class="border-2 rounded-full p-2">Upload</span><br /><br />Only images supported</ngx-dropzone-label>
              <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
              </ngx-dropzone-preview>
            </ngx-dropzone>
          </div>

          <input
            hidden="true"
            formControlName="file">


          <div
            class="w-full"
            *ngIf="isImage && modifyBio">
            <h3 class="font-bold">Preview:</h3>
            <ng-container *ngIf="isImage">
              <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f">
                <ngx-dropzone-label></ngx-dropzone-label>
              </ngx-dropzone-image-preview>
            </ng-container>
          </div>

          <div class="flex mt-8">
            <button
              class="ml-auto mr-auto w-screen lg:w-1/2"
              mat-flat-button color="primary"
              (submit)="uploadImage()"
              [disabled]="!imageForm.valid">Post</button>
          </div>
        </form>

      </div>




      <div class="bg-white flex flex-col gap-7 p-10 shadow-2xl rounded-lg  mt-20  w-1/3">
        <p>Change your `About Me`</p>
        <p>{{profile.bio}}</p>

        <!-- Form for submitting bio, only toggled when modify is set to true -->
        <mat-card-header class="pb-5">
          <mat-card class="w-full">
            <form [formGroup]="changeBioForm" (submit)="submitForm( )">
              <mat-form-field class="form-field flex">
                <mat-label> {{profile.bio}} </mat-label>
                <input matInput formControlName="bio">
              </mat-form-field>
              <button mat-raised-button color="accent" type="submit" class="w-full">Submit bio</button>
            </form>
          </mat-card>
        </mat-card-header>
      </div>

      <div class="bg-white flex flex-col gap-7 p-10 shadow-2xl rounded-lg  mt-20  w-1/3">
        <p>Change your theme</p>
        <p>{{profile.themeName}}</p>

        <div >
          <!-- Button for user to start/stop modifying bio -->
            <mat-form-field >
              <mat-label>Select a theme</mat-label>
              <mat-select>
                <mat-option (click)="selectTheme('theme-one')" value="theme-one">Theme One</mat-option>
                <mat-option (click)="selectTheme('theme-two')" value="theme-two">Theme Two</mat-option>
                <mat-option (click)="selectTheme('theme-three')" value="theme-three">Theme Three</mat-option>
                <mat-option (click)="selectTheme('theme-four')" value="theme-four">Theme Four</mat-option>
                <mat-option (click)="selectTheme('theme-five') "value="theme-five">Theme Five</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
      </div>

    </div>

</div>

